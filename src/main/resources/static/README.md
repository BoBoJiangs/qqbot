# QQ Bot 可视化配置管理

## 概述

这是一个为QQ Bot项目创建的可视化配置管理系统，允许通过Web界面轻松管理Bot的各种配置参数。

## 功能特性

### 🎯 核心功能
- **可视化配置界面**: 直观的Web界面，无需手动编辑配置文件
- **实时状态监控**: 查看Bot的运行时状态和任务执行情况
- **批量配置管理**: 支持同时管理多个Bot的配置
- **配置导入导出**: 方便备份和迁移配置

### 📋 配置分类

#### 1. 基础配置
- Bot编号设置
- 验证模式选择（手动/半自动/全自动）
- 定时任务开关
- 群消息自动回复

#### 2. 悬赏令配置
- 悬赏令模式（手动/半自动/全自动）
- 价格限制设置
- 价格查询功能

#### 3. 修炼配置
- 修炼模式（无/修炼/闭关/宗门闭关）
- 无偿双修功能

#### 4. 宗门配置
- 宗门任务模式（邪修查抄/所有任务）
- 自动灵田结算

#### 5. 查询功能
- 价格查询
- 猜成语查询
- 自动秘境结算

#### 6. 控制配置
- 主号QQ设置
- 提醒群号配置
- 赠送灵石群号

## 文件结构

```
src/main/java/top/sshh/qqbot/
├── service/
│   └── BotConfigManager.java          # 配置管理核心服务
├── controller/
│   └── BotConfigController.java       # 配置控制器
└── data/
    ├── BotConfigDTO.java              # 配置数据传输对象
    └── BotConfigPersist.java          # 配置持久化对象

src/main/resources/static/
└── bot-config.html                    # Web配置界面
```

## 使用方法

### 1. 启动应用
启动你的Spring Boot应用后，访问：
```
http://localhost:8080/bot-config.html
```

### 2. 选择Bot
在界面顶部选择要配置的Bot，系统会自动加载当前配置。

### 3. 修改配置
通过标签页切换不同的配置分类，修改相应的参数：
- **开关类**: 直接勾选/取消勾选
- **选择类**: 从下拉菜单选择
- **数值类**: 输入具体数值
- **文本类**: 输入文本内容

### 4. 保存配置
点击"保存配置"按钮，系统会验证并保存配置到文件。

### 5. 其他操作
- **刷新配置**: 重新加载当前Bot的配置
- **重置配置**: 恢复为默认配置
- **导出配置**: 下载配置文件JSON
- **导入配置**: 从JSON文件导入配置

## API接口

虽然当前实现为普通Java类，但可以轻松扩展为REST API：

### 主要方法
- `getAllBotConfigs()`: 获取所有Bot配置
- `getBotConfig(Long botId)`: 获取指定Bot配置
- `updateBotConfig(Long botId, BotConfigDTO config)`: 更新Bot配置
- `resetBotConfig(Long botId)`: 重置Bot配置
- `exportBotConfig(Long botId)`: 导出配置
- `importBotConfig(Long botId, String configJson)`: 导入配置

## 配置选项说明

### 悬赏令模式
- **手动模式**: 需要手动接取和结算悬赏令
- **半自动模式**: 手动接取，自动结算
- **全自动价值优先**: 自动选择价值最高的悬赏令
- **全自动时长最短**: 自动选择耗时最短的悬赏令
- **全自动修为最高**: 自动选择修为奖励最高的悬赏令

### 修炼模式
- **无**: 不进行任何修炼活动
- **修炼**: 普通修炼模式
- **普通闭关**: 闭关修炼模式
- **宗门闭关**: 宗门闭关修炼模式

### 验证模式
- **手动验证**: 需要手动处理验证码
- **半自动验证**: 自动识别失败时停止
- **全自动验证**: 持续尝试自动识别

## 注意事项

1. **配置验证**: 系统会自动验证配置参数的有效性
2. **实时生效**: 配置保存后会立即应用到Bot运行时
3. **备份建议**: 建议定期导出配置作为备份
4. **权限控制**: 确保只有授权用户能够访问配置界面

## 扩展功能

### 未来可扩展的功能
- REST API接口
- 用户权限管理
- 配置变更历史
- 配置模板功能
- 远程配置同步

## 技术栈

- **后端**: Spring Boot + Java
- **前端**: HTML5 + CSS3 + JavaScript
- **数据存储**: JSON文件
- **配置管理**: Spring Configuration

## 贡献

欢迎提交Issue和Pull Request来改进这个配置管理系统！

